---
title: 'TypeScript-Go æ·±åº¦è§£æï¼šTypeScript çš„åŸç”Ÿ Go å®ç°'
description: 'æ·±å…¥æ¢è®¨ Microsoft TypeScript-Go é¡¹ç›®çš„æ¶æ„è®¾è®¡ã€æ ¸å¿ƒç†å¿µã€æ€§èƒ½ä¼˜åŒ–ï¼Œä»¥åŠå¦‚ä½•ç”¨ Go é‡å†™ TypeScript ç¼–è¯‘å™¨ã€‚åŒ…å«è¯¦ç»†çš„æ¶æ„å›¾å’Œæµç¨‹å›¾ã€‚'
date: 2025-11-19
author: 'Devin'
tags: ['Go', 'Typescript-Go']
category: 'frontend'
excerpt: 'å…¨é¢è§£æ Microsoft TypeScript-Go é¡¹ç›®ï¼šä¸ºä»€ä¹ˆè¦ç”¨ Go é‡å†™ TypeScript ç¼–è¯‘å™¨ï¼Ÿå¦‚ä½•å®ç° 10 å€æ€§èƒ½æå‡ï¼Ÿæ·±å…¥ç†è§£ç¼–è¯‘å™¨æ¶æ„ã€ç±»å‹æ£€æŸ¥ç³»ç»Ÿå’Œè®¾è®¡å†³ç­–ã€‚'
---

# TypeScript-Go æ·±åº¦è§£æï¼šTypeScript çš„åŸç”Ÿ Go å®ç°

## ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [ä¸ºä»€ä¹ˆè¦é‡å†™](#ä¸ºä»€ä¹ˆè¦é‡å†™)
- [æ€§èƒ½å¯¹æ¯”](#æ€§èƒ½å¯¹æ¯”)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [æ ¸å¿ƒç»„ä»¶](#æ ¸å¿ƒç»„ä»¶)
- [ç¼–è¯‘æµç¨‹](#ç¼–è¯‘æµç¨‹)
- [ç±»å‹æ£€æŸ¥ç³»ç»Ÿ](#ç±»å‹æ£€æŸ¥ç³»ç»Ÿ)
- [è®¾è®¡ç†å¿µ](#è®¾è®¡ç†å¿µ)
- [æŠ€æœ¯å®ç°](#æŠ€æœ¯å®ç°)
- [å¼€å‘è·¯çº¿å›¾](#å¼€å‘è·¯çº¿å›¾)
- [å®‰è£…ä¸ä½¿ç”¨](#å®‰è£…ä¸ä½¿ç”¨)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [æ€»ç»“](#æ€»ç»“)

## é¡¹ç›®æ¦‚è¿°

**TypeScript-Go** æ˜¯ Microsoft å®˜æ–¹å¼€å‘çš„ TypeScript ç¼–è¯‘å™¨çš„åŸç”Ÿ Go è¯­è¨€å®ç°ã€‚è¿™æ˜¯ä¸€ä¸ªé›„å¿ƒå‹ƒå‹ƒçš„é¡¹ç›®ï¼Œæ—¨åœ¨ä»æ ¹æœ¬ä¸Šè§£å†³ TypeScript åœ¨å¤§å‹ä»£ç åº“ä¸­çš„æ€§èƒ½ç“¶é¢ˆã€‚

### å…³é”®æ•°æ®

- **ä»“åº“**: [microsoft/typescript-go](https://github.com/microsoft/typescript-go)
- **Stars**: 22.9k+
- **è®¸å¯è¯**: Apache-2.0
- **ä¸»è¦è¯­è¨€**: Go (96.6%)
- **è´¡çŒ®è€…**: 85+
- **çŠ¶æ€**: é¢„è§ˆç‰ˆ (TypeScript 7)

### é¡¹ç›®ç›®æ ‡

1. **æ€§èƒ½æå‡**: æ„å»ºé€Ÿåº¦æå‡ 10 å€
2. **å†…å­˜ä¼˜åŒ–**: å†…å­˜ä½¿ç”¨å‡å°‘çº¦ 50%
3. **ç¼–è¾‘å™¨å“åº”**: å¯åŠ¨æ—¶é—´å‡å°‘ 8 å€
4. **å¤§å‹ä»£ç åº“**: æ›´å¥½åœ°æ”¯æŒç™¾ä¸‡è¡Œçº§åˆ«çš„é¡¹ç›®
5. **AI é›†æˆ**: ä¸º AI å¼€å‘å·¥å…·æä¾›æ›´å¥½çš„è¯­ä¹‰åˆ†æ

### é¡¹ç›®ç‰¹ç‚¹

- âš¡ï¸ **æè‡´æ€§èƒ½**: åˆ©ç”¨ Go çš„ç¼–è¯‘ä¼˜åŒ–å’Œå¹¶å‘ç‰¹æ€§
- ğŸ”„ **å®Œå…¨å…¼å®¹**: ä¿æŒä¸ TypeScript 5.8 çš„ API å…¼å®¹
- ğŸ“¦ **å³æ’å³ç”¨**: å¯ä½œä¸º `tsc` çš„ç›´æ¥æ›¿ä»£å“
- ğŸ¯ **æ¸è¿›è¿ç§»**: æ”¯æŒé€æ­¥ä» JavaScript ç‰ˆæœ¬è¿‡æ¸¡
- ğŸ” **ç›¸åŒè¾“å‡º**: é”™è¯¯ä¿¡æ¯ã€ä½ç½®å’Œç±»å‹æ£€æŸ¥ç»“æœä¸åŸç‰ˆä¸€è‡´

## ä¸ºä»€ä¹ˆè¦é‡å†™

### 1. æ€§èƒ½ç“¶é¢ˆ

éšç€ TypeScript é¡¹ç›®è§„æ¨¡çš„å¢é•¿ï¼ŒJavaScript å®ç°çš„ `tsc` é¢ä¸´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ï¼š

```mermaid
graph TB
    A[å¤§å‹ä»£ç åº“é—®é¢˜] --> B[ç¼–è¾‘å™¨å¯åŠ¨æ…¢]
    A --> C[ç±»å‹æ£€æŸ¥è€—æ—¶é•¿]
    A --> D[å†…å­˜å ç”¨é«˜]
    A --> E[å¢é‡æ„å»ºä¸å¤Ÿå¿«]

    B --> F[å¼€å‘ä½“éªŒå·®]
    C --> F
    D --> G[CI/CD æˆæœ¬é«˜]
    E --> G

    F --> H[ç”Ÿäº§åŠ›ä¸‹é™]
    G --> H

    style H fill:#ff6b6b
```

### 2. æ‰©å±•æ€§é™åˆ¶

TypeScript çš„ JavaScript å®ç°é¢ä¸´ä»¥ä¸‹é™åˆ¶ï¼š

| é™åˆ¶ | å½±å“ | Go è§£å†³æ–¹æ¡ˆ |
|------|------|------------|
| **å•çº¿ç¨‹æ‰§è¡Œ** | æ— æ³•å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU | åŸç”Ÿå¹¶å‘æ”¯æŒ |
| **åƒåœ¾å›æ”¶å¼€é”€** | V8 GC åœ¨å¤§å‹é¡¹ç›®ä¸­å‹åŠ›å¤§ | æ›´é«˜æ•ˆçš„ Go GC |
| **å¯åŠ¨æ—¶é—´** | éœ€è¦åŠ è½½å’Œè§£æå¤§é‡ JS ä»£ç  | ç¼–è¯‘ä¸ºåŸç”ŸäºŒè¿›åˆ¶ |
| **å†…å­˜å¸ƒå±€** | JavaScript å¯¹è±¡å ç”¨ç©ºé—´å¤§ | ç´§å‡‘çš„å†…å­˜ç»“æ„ |
| **ç¼–è¯‘ä¼˜åŒ–** | JIT ç¼–è¯‘çš„ä¸ç¡®å®šæ€§ | AOT ç¼–è¯‘ä¼˜åŒ– |

### 3. AI å¼€å‘éœ€æ±‚

ç°ä»£ AI è¾…åŠ©ç¼–ç¨‹å·¥å…·éœ€è¦ï¼š

- **å¤§çª—å£è¯­ä¹‰ä¿¡æ¯**: ç†è§£æ›´å¤šä¸Šä¸‹æ–‡
- **ä½å»¶è¿Ÿå“åº”**: å®æ—¶ä»£ç è¡¥å…¨å’Œå»ºè®®
- **å¹¶å‘è¯·æ±‚**: åŒæ—¶å¤„ç†å¤šä¸ªæŸ¥è¯¢
- **èµ„æºæ•ˆç‡**: åœ¨æœ‰é™èµ„æºä¸‹è¿è¡Œ

JavaScript å®ç°éš¾ä»¥æ»¡è¶³è¿™äº›ä¸¥æ ¼çš„æ€§èƒ½è¦æ±‚ã€‚

### 4. å¼€å‘è€…ç—›ç‚¹

```mermaid
graph LR
    A[å¼€å‘è€…é€‰æ‹©å›°å¢ƒ] --> B{ä¼˜åŒ–ç­–ç•¥}

    B -->|é€‰é¡¹ 1| C[å¿«é€Ÿå¯åŠ¨]
    B -->|é€‰é¡¹ 2| D[å®Œæ•´ç±»å‹æ£€æŸ¥]

    C --> E[skipLibCheck: true]
    C --> F[å‡å°‘æ£€æŸ¥èŒƒå›´]
    E --> G[ç±»å‹å®‰å…¨é™ä½]
    F --> G

    D --> H[é•¿æ—¶é—´ç­‰å¾…]
    D --> I[èµ„æºå ç”¨é«˜]

    G --> J[éœ€è¦å¹³è¡¡]
    H --> J
    I --> J

    style J fill:#ffd700
```

å¼€å‘è€…ä¸å¾—ä¸åœ¨å¿«é€Ÿåé¦ˆå’Œå®Œæ•´ç±»å‹å®‰å…¨ä¹‹é—´åšå‡ºå¦¥åã€‚TypeScript-Go æ—¨åœ¨æ¶ˆé™¤è¿™ç§æƒè¡¡ã€‚

## æ€§èƒ½å¯¹æ¯”

### æ„å»ºæ—¶é—´å¯¹æ¯”

Microsoft å®˜æ–¹æµ‹è¯•æ•°æ®æ˜¾ç¤ºæƒŠäººçš„æ€§èƒ½æå‡ï¼š

```mermaid
graph TB
    subgraph "VS Code - 1.5M LOC"
        A1[JS ç‰ˆæœ¬: 77.8s]
        A2[Go ç‰ˆæœ¬: 7.5s]
        A3[æå‡: 10.4x]
    end

    subgraph "Playwright - 356K LOC"
        B1[JS ç‰ˆæœ¬: 11.1s]
        B2[Go ç‰ˆæœ¬: 1.1s]
        B3[æå‡: 10.1x]
    end

    subgraph "TypeORM - 270K LOC"
        C1[JS ç‰ˆæœ¬: 17.5s]
        C2[Go ç‰ˆæœ¬: 1.3s]
        C3[æå‡: 13.5x]
    end

    style A2 fill:#90ee90
    style B2 fill:#90ee90
    style C2 fill:#90ee90
    style A3 fill:#ffd700
    style B3 fill:#ffd700
    style C3 fill:#ffd700
```

### ç¼–è¾‘å™¨å¯åŠ¨æ—¶é—´

```mermaid
graph LR
    subgraph "VS Code é¡¹ç›®åŠ è½½"
        A[JavaScript ç‰ˆæœ¬] -->|9.6s| B[å®Œæˆ]
        C[Go ç‰ˆæœ¬] -->|1.2s| D[å®Œæˆ]
    end

    E[æ€§èƒ½æå‡] -->|8x faster| F[å¼€å‘ä½“éªŒæ˜¾è‘—æ”¹å–„]

    style C fill:#90ee90
    style D fill:#90ee90
    style F fill:#ffd700
```

### å†…å­˜ä½¿ç”¨å¯¹æ¯”

| é¡¹ç›® | JavaScript ç‰ˆæœ¬ | Go ç‰ˆæœ¬ | å‡å°‘ |
|------|----------------|---------|------|
| **VS Code** | ~1.2 GB | ~600 MB | 50% |
| **Playwright** | ~800 MB | ~400 MB | 50% |
| **TypeORM** | ~900 MB | ~450 MB | 50% |

### æ€§èƒ½æå‡çš„åŸå› 

1. **åŸç”Ÿç¼–è¯‘**: æ— éœ€ JIT é¢„çƒ­ï¼Œç›´æ¥æ‰§è¡Œæœºå™¨ç 
2. **å¹¶å‘å¤„ç†**: å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU è¿›è¡Œå¹¶è¡Œç±»å‹æ£€æŸ¥
3. **é«˜æ•ˆ GC**: Go çš„åƒåœ¾å›æ”¶å™¨é’ˆå¯¹é«˜ååé‡ä¼˜åŒ–
4. **å†…å­˜å¸ƒå±€**: ç´§å‡‘çš„æ•°æ®ç»“æ„å‡å°‘å†…å­˜å ç”¨
5. **å¢é‡ä¼˜åŒ–**: æ›´æ™ºèƒ½çš„ç¼“å­˜å’Œå¢é‡è®¡ç®—

## æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

```mermaid
graph TB
    subgraph "ç”¨æˆ·å±‚"
        A[CLI - tsgo]
        B[VS Code Extension]
        C[Language Server]
    end

    subgraph "å…¥å£å±‚ - cmd/tsgo"
        D[main.go]
        E[api.go]
        F[lsp.go]
        G[sys.go]
    end

    subgraph "æ‰§è¡Œå±‚ - internal/execute"
        H[CommandLine]
        I[Project Builder]
        J[Watch Mode]
    end

    subgraph "ç¼–è¯‘å™¨æ ¸å¿ƒ - internal/compiler"
        K[Program]
        L[Host]
        M[Emitter]
        N[File Loader]
        O[Reference Parser]
    end

    subgraph "è¯­è¨€åˆ†æ - internal"
        P[Scanner - è¯æ³•åˆ†æ]
        Q[Parser - è¯­æ³•åˆ†æ]
        R[Binder - ç¬¦å·ç»‘å®š]
        S[Checker - ç±»å‹æ£€æŸ¥]
        T[Transformer - ä»£ç è½¬æ¢]
        U[Printer - ä»£ç ç”Ÿæˆ]
    end

    subgraph "æ”¯æŒç³»ç»Ÿ"
        V[VFS - è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ]
        W[Diagnostics - è¯Šæ–­ç³»ç»Ÿ]
        X[Module Resolver]
        Y[Source Map]
    end

    A --> D
    B --> F
    C --> F
    D --> H
    D --> E
    D --> F
    H --> I
    I --> K
    K --> L
    K --> M
    K --> N
    K --> O
    L --> P
    P --> Q
    Q --> R
    R --> S
    S --> T
    T --> U
    K --> V
    S --> W
    K --> X
    U --> Y

    style K fill:#646cff
    style S fill:#ffd700
    style P fill:#42b883
    style U fill:#ff6b6b
```

### æ¨¡å—ç»„ç»‡

TypeScript-Go é‡‡ç”¨æ¸…æ™°çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œå…±æœ‰ 41 ä¸ªå†…éƒ¨åŒ…ï¼š

```mermaid
graph LR
    subgraph "41 ä¸ªå†…éƒ¨åŒ…"
        A[è¯­è¨€æ ¸å¿ƒ]
        B[ç¼–è¯‘æµç¨‹]
        C[å·¥å…·æ”¯æŒ]
        D[åŸºç¡€è®¾æ–½]
    end

    A --> A1[scanner]
    A --> A2[parser]
    A --> A3[ast]
    A --> A4[binder]
    A --> A5[checker]

    B --> B1[compiler]
    B --> B2[transformers]
    B --> B3[printer]
    B --> B4[emitter]

    C --> C1[lsp]
    C --> C2[api]
    C --> C3[format]
    C --> C4[diagnostics]

    D --> D1[vfs]
    D --> D2[collections]
    D --> D3[testrunner]

    style A fill:#e3f2fd
    style B fill:#c8e6c9
    style C fill:#fff9c4
    style D fill:#ffccbc
```

### é¡¹ç›®ç»“æ„

```
typescript-go/
â”œâ”€â”€ cmd/tsgo/              # CLI å…¥å£
â”‚   â”œâ”€â”€ main.go           # ä¸»å…¥å£
â”‚   â”œâ”€â”€ api.go            # API æ¨¡å¼
â”‚   â”œâ”€â”€ lsp.go            # LSP æœåŠ¡å™¨
â”‚   â””â”€â”€ sys.go            # ç³»ç»Ÿæ¥å£
â”œâ”€â”€ internal/             # æ ¸å¿ƒå®ç°ï¼ˆ41 ä¸ªåŒ…ï¼‰
â”‚   â”œâ”€â”€ scanner/          # è¯æ³•åˆ†æ
â”‚   â”œâ”€â”€ parser/           # è¯­æ³•åˆ†æ
â”‚   â”œâ”€â”€ ast/              # æŠ½è±¡è¯­æ³•æ ‘
â”‚   â”œâ”€â”€ binder/           # ç¬¦å·ç»‘å®š
â”‚   â”œâ”€â”€ checker/          # ç±»å‹æ£€æŸ¥
â”‚   â”œâ”€â”€ compiler/         # ç¼–è¯‘å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ transformers/     # ä»£ç è½¬æ¢
â”‚   â”œâ”€â”€ printer/          # ä»£ç ç”Ÿæˆ
â”‚   â”œâ”€â”€ emitter/          # è¾“å‡ºç®¡ç†
â”‚   â”œâ”€â”€ lsp/              # è¯­è¨€æœåŠ¡å™¨
â”‚   â”œâ”€â”€ vfs/              # è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ diagnostics/      # é”™è¯¯è¯Šæ–­
â”‚   â”œâ”€â”€ module/           # æ¨¡å—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ evaluator/        # è¡¨è¾¾å¼æ±‚å€¼
â”‚   â””â”€â”€ ...               # å…¶ä»–æ”¯æŒåŒ…
â”œâ”€â”€ _extension/           # VS Code æ‰©å±•
â”œâ”€â”€ _build/               # æ„å»ºè„šæœ¬
â”œâ”€â”€ _tools/               # å¼€å‘å·¥å…·
â”œâ”€â”€ testdata/             # æµ‹è¯•æ•°æ®
â”œâ”€â”€ go.mod                # Go ä¾èµ–
â”œâ”€â”€ package.json          # npm åŒ…é…ç½®
â””â”€â”€ tsconfig.json         # TypeScript é…ç½®
```

## æ ¸å¿ƒç»„ä»¶

### 1. Scannerï¼ˆè¯æ³•åˆ†æå™¨ï¼‰

**èŒè´£**: å°†æºä»£ç è½¬æ¢ä¸º Token æµ

```mermaid
graph LR
    A[æºä»£ç ] --> B[Scanner]
    B --> C[Token æµ]

    subgraph "Token ç±»å‹"
        D[Keywords]
        E[Identifiers]
        F[Operators]
        G[Literals]
        H[Punctuation]
    end

    C --> D
    C --> E
    C --> F
    C --> G
    C --> H

    style B fill:#42b883
```

**ç‰¹ç‚¹**:
- å¢é‡æ‰«ææ”¯æŒ
- Unicode å®Œæ•´æ”¯æŒ
- JSX/TSX è¯­æ³•è¯†åˆ«
- æºä½ç½®è·Ÿè¸ª

### 2. Parserï¼ˆè¯­æ³•åˆ†æå™¨ï¼‰

**èŒè´£**: å°† Token æµè½¬æ¢ä¸º ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰

```mermaid
graph TB
    A[Token æµ] --> B[Parser]
    B --> C[AST]

    subgraph "AST èŠ‚ç‚¹ç±»å‹"
        D[å£°æ˜èŠ‚ç‚¹]
        E[è¡¨è¾¾å¼èŠ‚ç‚¹]
        F[è¯­å¥èŠ‚ç‚¹]
        G[ç±»å‹èŠ‚ç‚¹]
    end

    C --> D
    C --> E
    C --> F
    C --> G

    D --> D1[å˜é‡å£°æ˜]
    D --> D2[å‡½æ•°å£°æ˜]
    D --> D3[ç±»å£°æ˜]

    E --> E1[å­—é¢é‡]
    E --> E2[è¿ç®—ç¬¦]
    E --> E3[è°ƒç”¨è¡¨è¾¾å¼]

    style B fill:#42b883
```

**ç‰¹ç‚¹**:
- é€’å½’ä¸‹é™è§£æ
- é”™è¯¯æ¢å¤æœºåˆ¶
- JSX æ”¯æŒ
- å¢é‡è§£æèƒ½åŠ›

### 3. Binderï¼ˆç¬¦å·ç»‘å®šå™¨ï¼‰

**èŒè´£**: å»ºç«‹ç¬¦å·è¡¨å’Œä½œç”¨åŸŸé“¾

```mermaid
graph TB
    A[AST] --> B[Binder]
    B --> C[ç¬¦å·è¡¨]
    B --> D[ä½œç”¨åŸŸé“¾]

    subgraph "ç¬¦å·ç±»å‹"
        E[å˜é‡ç¬¦å·]
        F[å‡½æ•°ç¬¦å·]
        G[ç±»ç¬¦å·]
        H[æ¥å£ç¬¦å·]
        I[ç±»å‹ç¬¦å·]
    end

    C --> E
    C --> F
    C --> G
    C --> H
    C --> I

    subgraph "ä½œç”¨åŸŸå±‚æ¬¡"
        J[å…¨å±€ä½œç”¨åŸŸ]
        K[æ¨¡å—ä½œç”¨åŸŸ]
        L[å‡½æ•°ä½œç”¨åŸŸ]
        M[å—ä½œç”¨åŸŸ]
    end

    D --> J
    J --> K
    K --> L
    L --> M

    style B fill:#ffd700
```

**åŠŸèƒ½**:
- ç¬¦å·å£°æ˜æ”¶é›†
- ä½œç”¨åŸŸç®¡ç†
- ç¬¦å·å¼•ç”¨è§£æ
- å¯¼å…¥/å¯¼å‡ºå¤„ç†

### 4. Checkerï¼ˆç±»å‹æ£€æŸ¥å™¨ï¼‰

**èŒè´£**: æ‰§è¡Œç±»å‹æ£€æŸ¥å’Œè¯­ä¹‰åˆ†æ

```mermaid
graph TB
    A[ç¬¦å·è¡¨ + AST] --> B[Checker]

    B --> C[ç±»å‹æ¨å¯¼]
    B --> D[ç±»å‹å…¼å®¹æ€§æ£€æŸ¥]
    B --> E[çº¦æŸæ±‚è§£]
    B --> F[é”™è¯¯æ”¶é›†]

    C --> G[å˜é‡ç±»å‹]
    C --> H[å‡½æ•°è¿”å›ç±»å‹]
    C --> I[æ³›å‹å®ä¾‹åŒ–]

    D --> J[èµ‹å€¼å…¼å®¹æ€§]
    D --> K[å‡½æ•°å‚æ•°åŒ¹é…]
    D --> L[ç»§æ‰¿å…³ç³»]

    E --> M[æ³›å‹çº¦æŸ]
    E --> N[æ¡ä»¶ç±»å‹]

    F --> O[ç±»å‹é”™è¯¯]
    F --> P[è¯­ä¹‰é”™è¯¯]

    style B fill:#ff6b6b
    style C fill:#90ee90
```

**æ ¸å¿ƒç®—æ³•**:
- **ç±»å‹æ¨å¯¼**: Hindley-Milner ç®—æ³•çš„å˜ä½“
- **å­ç±»å‹æ£€æŸ¥**: ç»“æ„åŒ–ç±»å‹ç³»ç»Ÿ
- **æ³›å‹è§£æ**: çº¦æŸæ±‚è§£å’Œå®ä¾‹åŒ–
- **æ§åˆ¶æµåˆ†æ**: ç±»å‹çª„åŒ–å’Œå®ˆå«

## ç¼–è¯‘æµç¨‹

### å®Œæ•´ç¼–è¯‘ç®¡é“

```mermaid
sequenceDiagram
    participant CLI as CLI/API
    participant Program as Program
    participant Loader as File Loader
    participant Scanner as Scanner
    participant Parser as Parser
    participant Binder as Binder
    participant Checker as Checker
    participant Transformer as Transformer
    participant Emitter as Emitter

    CLI->>Program: åˆ›å»º Program
    Program->>Loader: åŠ è½½æºæ–‡ä»¶
    Loader-->>Program: æ–‡ä»¶åˆ—è¡¨

    loop æ¯ä¸ªæºæ–‡ä»¶
        Program->>Scanner: æ‰«ææ–‡ä»¶
        Scanner-->>Program: Token æµ

        Program->>Parser: è§£æ Token
        Parser-->>Program: AST

        Program->>Binder: ç»‘å®šç¬¦å·
        Binder-->>Program: ç¬¦å·è¡¨
    end

    Program->>Checker: ç±»å‹æ£€æŸ¥
    Checker->>Checker: æ¨å¯¼ç±»å‹
    Checker->>Checker: æ£€æŸ¥å…¼å®¹æ€§
    Checker->>Checker: ç”Ÿæˆè¯Šæ–­
    Checker-->>Program: ç±»å‹ä¿¡æ¯ + é”™è¯¯

    alt éœ€è¦ç”Ÿæˆä»£ç 
        Program->>Transformer: è½¬æ¢ AST
        Transformer-->>Program: JS AST

        Program->>Emitter: ç”Ÿæˆä»£ç 
        Emitter->>Emitter: å†™å…¥ .js æ–‡ä»¶
        Emitter->>Emitter: å†™å…¥ .d.ts æ–‡ä»¶
        Emitter->>Emitter: å†™å…¥ .map æ–‡ä»¶
        Emitter-->>Program: è¾“å‡ºç»“æœ
    end

    Program-->>CLI: ç¼–è¯‘ç»“æœ
```

### å¢é‡ç¼–è¯‘æµç¨‹

```mermaid
graph TB
    A[æ–‡ä»¶å˜æ›´] --> B{æ£€æŸ¥ç¼“å­˜}

    B -->|ç¼“å­˜æœ‰æ•ˆ| C[è·³è¿‡è§£æ]
    B -->|ç¼“å­˜å¤±æ•ˆ| D[é‡æ–°è§£æ]

    C --> E[è·å–ç¼“å­˜çš„ AST]
    D --> F[æ‰«æ + è§£æ]

    F --> G[æ›´æ–° AST ç¼“å­˜]
    E --> H[ä¾èµ–åˆ†æ]
    G --> H

    H --> I{å½±å“èŒƒå›´}

    I -->|ä»…å½“å‰æ–‡ä»¶| J[å±€éƒ¨ç±»å‹æ£€æŸ¥]
    I -->|å½±å“å…¶ä»–æ–‡ä»¶| K[ä¼ æ’­æ£€æŸ¥]

    J --> L[æ›´æ–°ç±»å‹ç¼“å­˜]
    K --> L

    L --> M[ç”Ÿæˆè¯Šæ–­]
    M --> N[è¾“å‡ºç»“æœ]

    style B fill:#ffd700
    style I fill:#ffd700
```

## ç±»å‹æ£€æŸ¥ç³»ç»Ÿ

### ç±»å‹ç³»ç»Ÿæ¶æ„

```mermaid
graph TB
    subgraph "ç±»å‹åˆ†ç±»"
        A[åŸå§‹ç±»å‹]
        B[å¯¹è±¡ç±»å‹]
        C[è”åˆç±»å‹]
        D[äº¤å‰ç±»å‹]
        E[æ³›å‹ç±»å‹]
        F[æ¡ä»¶ç±»å‹]
        G[æ˜ å°„ç±»å‹]
    end

    subgraph "ç±»å‹æ“ä½œ"
        H[ç±»å‹æ¨å¯¼]
        I[ç±»å‹çª„åŒ–]
        J[ç±»å‹å…¼å®¹æ€§]
        K[ç±»å‹å®ä¾‹åŒ–]
    end

    subgraph "æ£€æŸ¥æœºåˆ¶"
        L[ç»“æ„åŒ–ç±»å‹]
        M[å­ç±»å‹æ£€æŸ¥]
        N[çº¦æŸæ±‚è§£]
    end

    A --> H
    B --> H
    C --> H
    D --> H
    E --> K

    H --> I
    I --> J
    K --> J

    J --> L
    L --> M
    M --> N

    style H fill:#90ee90
    style J fill:#ffd700
    style N fill:#ff6b6b
```

### ç±»å‹æ¨å¯¼æµç¨‹

```mermaid
graph LR
    A[è¡¨è¾¾å¼] --> B{ç±»å‹æ¥æº}

    B -->|æ˜¾å¼æ³¨è§£| C[ä½¿ç”¨æ³¨è§£ç±»å‹]
    B -->|å­—é¢é‡| D[æ¨å¯¼å­—é¢é‡ç±»å‹]
    B -->|è¿ç®—| E[æ¨å¯¼è¿ç®—ç»“æœ]
    B -->|å‡½æ•°è°ƒç”¨| F[æ¨å¯¼è¿”å›ç±»å‹]
    B -->|å˜é‡å¼•ç”¨| G[æŸ¥æ‰¾ç¬¦å·è¡¨]

    C --> H[ç±»å‹å®ä¾‹åŒ–]
    D --> H
    E --> H
    F --> H
    G --> H

    H --> I{æ³›å‹å‚æ•°?}

    I -->|æ˜¯| J[çº¦æŸæ±‚è§£]
    I -->|å¦| K[ç›´æ¥ä½¿ç”¨]

    J --> L[å®ä¾‹åŒ–æ³›å‹]
    K --> M[æœ€ç»ˆç±»å‹]
    L --> M

    style B fill:#ffd700
    style I fill:#ffd700
```

## è®¾è®¡ç†å¿µ

### 1. æ€§èƒ½ä¼˜å…ˆ

```mermaid
graph TB
    A[æ€§èƒ½ä¼˜åŒ–ç­–ç•¥] --> B[ç¼–è¯‘æ—¶ä¼˜åŒ–]
    A --> C[è¿è¡Œæ—¶ä¼˜åŒ–]
    A --> D[å¹¶å‘ä¼˜åŒ–]

    B --> B1[AOT ç¼–è¯‘]
    B --> B2[å†…è”ä¼˜åŒ–]
    B --> B3[æ­»ä»£ç æ¶ˆé™¤]

    C --> C1[ç´§å‡‘å†…å­˜å¸ƒå±€]
    C --> C2[å¯¹è±¡æ± ]
    C --> C3[é›¶æ‹·è´]

    D --> D1[å¹¶è¡Œæ–‡ä»¶å¤„ç†]
    D --> D2[å¹¶å‘ç±»å‹æ£€æŸ¥]
    D --> D3[å¼‚æ­¥ I/O]

    style A fill:#ffd700
```

**è®¾è®¡åŸåˆ™**:

1. **é›¶æˆæœ¬æŠ½è±¡**: æŠ½è±¡ä¸åº”å¸¦æ¥è¿è¡Œæ—¶å¼€é”€
2. **æ•°æ®å±€éƒ¨æ€§**: ä¼˜åŒ–ç¼“å­˜å‹å¥½çš„æ•°æ®ç»“æ„
3. **æ‡’åŠ è½½**: å»¶è¿Ÿè®¡ç®—ç›´åˆ°çœŸæ­£éœ€è¦
4. **å¢é‡è®¡ç®—**: åªé‡æ–°è®¡ç®—å˜æ›´çš„éƒ¨åˆ†
5. **å¹¶è¡Œä¼˜å…ˆ**: é»˜è®¤å¹¶è¡Œå¤„ç†ç‹¬ç«‹ä»»åŠ¡

### 2. å…¼å®¹æ€§ä¿è¯

```mermaid
graph LR
    A[å…¼å®¹æ€§ç›®æ ‡] --> B[API å…¼å®¹]
    A --> C[è¡Œä¸ºå…¼å®¹]
    A --> D[è¾“å‡ºå…¼å®¹]

    B --> B1[ç›¸åŒçš„ CLI å‚æ•°]
    B --> B2[ç›¸åŒçš„é…ç½®é€‰é¡¹]
    B --> B3[ç›¸åŒçš„ API æ¥å£]

    C --> C1[ç›¸åŒçš„é”™è¯¯ä¿¡æ¯]
    C --> C2[ç›¸åŒçš„é”™è¯¯ä½ç½®]
    C --> C3[ç›¸åŒçš„ç±»å‹æ£€æŸ¥ç»“æœ]

    D --> D1[ç›¸åŒçš„ .js è¾“å‡º]
    D --> D2[ç›¸åŒçš„ .d.ts è¾“å‡º]
    D --> D3[å…¼å®¹çš„ source map]

    style A fill:#646cff
```

## æŠ€æœ¯å®ç°

### å…¥å£ç‚¹å®ç°

```go
// cmd/tsgo/main.go
package main

import (
    "os"
    "github.com/microsoft/typescript-go/internal/execute"
)

func main() {
    os.Exit(runMain())
}

func runMain() int {
    args := os.Args[1:]
    if len(args) > 0 {
        switch args[0] {
        case "--lsp":
            return runLSP(args[1:])
        case "--api":
            return runAPI(args[1:])
        }
    }
    result := execute.CommandLine(newSystem(), args, nil)
    return int(result.Status)
}
```

### å¹¶å‘æ¨¡å‹ç¤ºä¾‹

```go
// å¹¶è¡Œå¤„ç†å¤šä¸ªæ–‡ä»¶
func (p *Program) ParseFiles(files []string) {
    var wg sync.WaitGroup
    results := make(chan *ParseResult, len(files))

    for _, file := range files {
        wg.Add(1)
        go func(f string) {
            defer wg.Done()
            ast := p.parser.Parse(f)
            results <- &ParseResult{File: f, AST: ast}
        }(file)
    }

    go func() {
        wg.Wait()
        close(results)
    }()

    for result := range results {
        p.addAST(result.File, result.AST)
    }
}
```

## å¼€å‘è·¯çº¿å›¾

### å®˜æ–¹æ—¶é—´çº¿

```mermaid
gantt
    title TypeScript-Go å¼€å‘è·¯çº¿å›¾
    dateFormat YYYY-MM
    section TypeScript 6
    ç‰¹æ€§å†»ç»“              :done, 2024-09, 2024-10
    å¼ƒç”¨æ ‡è®°              :done, 2024-10, 2024-12
    æœ€ç»ˆç‰ˆæœ¬              :done, 2024-12, 2025-01

    section TypeScript 7 Preview
    å‘½ä»¤è¡Œé¢„è§ˆ            :active, 2025-01, 2025-06
    å®Œæ•´æ„å»ºæ”¯æŒ          :2025-06, 2025-09
    è¯­è¨€æœåŠ¡æ”¯æŒ          :2025-09, 2025-12

    section TypeScript 7 Release
    åŸç”Ÿå®ç°æ­£å¼ç‰ˆ        :2025-12, 2026-03
    ç”Ÿæ€ç³»ç»Ÿè¿ç§»          :2026-03, 2026-12
```

### åŠŸèƒ½çŠ¶æ€çŸ©é˜µ

| åŠŸèƒ½ | çŠ¶æ€ | TypeScript ç‰ˆæœ¬å¯¹æ ‡ | è¯´æ˜ |
|------|------|-------------------|------|
| **ç¨‹åºåˆ›å»º** | âœ… å®Œæˆ | 5.8 | å®Œå…¨å…¼å®¹ |
| **è§£æ/æ‰«æ** | âœ… å®Œæˆ | 5.8 | ç›¸åŒçš„ AST ç»“æ„ |
| **ç±»å‹è§£æ** | âœ… å®Œæˆ | 5.8 | å®Œæ•´çš„ç±»å‹ç³»ç»Ÿ |
| **ç±»å‹æ£€æŸ¥** | âœ… å®Œæˆ | 5.8 | ç›¸åŒçš„é”™è¯¯ä¿¡æ¯å’Œä½ç½® |
| **JSX æ”¯æŒ** | âœ… å®Œæˆ | 5.8 | React/Preact/Solid ç­‰ |
| **æ„å»ºæ¨¡å¼** | âœ… å®Œæˆ | 5.8 | æ”¯æŒé¡¹ç›®å¼•ç”¨ |
| **å¢é‡æ„å»º** | âœ… å®Œæˆ | 5.8 | æ™ºèƒ½ç¼“å­˜ |
| **JavaScript æ¨æ–­** | ğŸ”„ è¿›è¡Œä¸­ | - | JSDoc ç±»å‹æå– |
| **JSDoc æ”¯æŒ** | ğŸ”„ è¿›è¡Œä¸­ | - | æ³¨é‡Šç±»å‹è§£æ |
| **å£°æ˜ç”Ÿæˆ** | ğŸ”„ è¿›è¡Œä¸­ | - | .d.ts æ–‡ä»¶è¾“å‡º |
| **JS è¾“å‡º** | ğŸ”„ è¿›è¡Œä¸­ | - | ä»£ç ç”Ÿæˆå’Œè½¬æ¢ |
| **è¯­è¨€æœåŠ¡** | ğŸ”„ è¿›è¡Œä¸­ | - | è¡¥å…¨ã€é‡æ„ç­‰ |
| **Watch æ¨¡å¼** | ğŸ”§ åŸå‹ | - | æ–‡ä»¶ç›‘å¬å’Œå¢é‡é‡ç¼–è¯‘ |
| **å‘½ä»¤è¡Œå‚æ•°** | âš ï¸ éƒ¨åˆ† | - | ç¼ºå°‘ --help å’Œ --init |
| **å…¬å…± API** | âŒ æœªå¼€å§‹ | - | ç¼–ç¨‹æ¥å£ |

## å®‰è£…ä¸ä½¿ç”¨

### å®‰è£…

```bash
# é€šè¿‡ npm å®‰è£…
npm install @typescript/native-preview

# æˆ–ä½œä¸ºå¼€å‘ä¾èµ–
npm install --save-dev @typescript/native-preview

# éªŒè¯å®‰è£…
npx tsgo --version
```

### åŸºç¡€ä½¿ç”¨

```bash
# ç¼–è¯‘å•ä¸ªæ–‡ä»¶
npx tsgo index.ts

# ç¼–è¯‘é¡¹ç›®
npx tsgo --project tsconfig.json

# æ„å»ºæ¨¡å¼ï¼ˆé¡¹ç›®å¼•ç”¨ï¼‰
npx tsgo --build

# å¢é‡æ„å»º
npx tsgo --build --incremental
```

### VS Code é›†æˆ

åœ¨ VS Code è®¾ç½®ä¸­æ·»åŠ ï¼š

```json
{
  "typescript.experimental.useTsgo": true
}
```

### é…ç½®ç¤ºä¾‹

```json
{
  "compilerOptions": {
    "target": "esnext",
    "module": "esnext",
    "strict": true,
    "incremental": true,
    "composite": true,
    "declaration": true,
    "sourceMap": true
  }
}
```

## æœ€ä½³å®è·µ

### 1. å……åˆ†åˆ©ç”¨å¹¶å‘

ä½¿ç”¨é¡¹ç›®å¼•ç”¨æ‹†åˆ†å¤§å‹é¡¹ç›®ï¼ŒTypeScript-Go ä¼šå¹¶è¡Œæ„å»ºç‹¬ç«‹çš„å¼•ç”¨ã€‚

### 2. å¯ç”¨å¢é‡ç¼–è¯‘

```json
{
  "compilerOptions": {
    "incremental": true,
    "tsBuildInfoFile": ".tsbuildinfo"
  }
}
```

### 3. æ€§èƒ½ç›‘æ§

```bash
# å¼€å¯æ€§èƒ½åˆ†æ
npx tsgo --diagnostics
```

### 4. CI/CD é›†æˆ

```yaml
# .github/workflows/typecheck.yml
- name: Type check with TypeScript-Go
  run: npx tsgo --noEmit
```

## æ€»ç»“

TypeScript-Go ä»£è¡¨äº†ç¼–è¯‘å™¨æŠ€æœ¯çš„é‡å¤§è¿›æ­¥ï¼š

### æ ¸å¿ƒä»·å€¼

1. **æ€§èƒ½é©å‘½** - 10 å€æ„å»ºé€Ÿåº¦æå‡å’Œ 50% å†…å­˜èŠ‚çœ
2. **æ— ç¼å…¼å®¹** - å®Œå…¨å…¼å®¹ç°æœ‰ TypeScript ä»£ç å’Œå·¥å…·é“¾
3. **ç°ä»£æ¶æ„** - å……åˆ†åˆ©ç”¨å¤šæ ¸å¹¶å‘å’Œé«˜æ•ˆå†…å­˜ç®¡ç†
4. **æœªæ¥å¯¼å‘** - ä¸º AI è¾…åŠ©å¼€å‘å’Œè¶…å¤§å‹é¡¹ç›®åšå¥½å‡†å¤‡

### é€‚ç”¨åœºæ™¯

- âœ… å¤§å‹ TypeScript é¡¹ç›®ï¼ˆ100k+ LOCï¼‰
- âœ… è¿½æ±‚æè‡´æ„å»ºé€Ÿåº¦çš„å›¢é˜Ÿ
- âœ… CI/CD èµ„æºå—é™çš„ç¯å¢ƒ
- âœ… éœ€è¦é¢‘ç¹ç±»å‹æ£€æŸ¥çš„å¼€å‘æµç¨‹

### æœªæ¥å±•æœ›

éšç€ TypeScript 7 çš„æ­£å¼å‘å¸ƒï¼ŒTypeScript-Go å°†æˆä¸ºé»˜è®¤å®ç°ã€‚è¿™ä¸ä»…ä»…æ˜¯æ€§èƒ½æå‡ï¼Œæ›´ä»£è¡¨äº†ç¼–è¯‘å™¨ç°ä»£åŒ–å’Œå·¥å…·é“¾ä¼˜åŒ–çš„æœªæ¥æ–¹å‘ã€‚

---

**å‚è€ƒèµ„æº:**

- [TypeScript-Go GitHub](https://github.com/microsoft/typescript-go)
- [å®˜æ–¹å…¬å‘Šåšå®¢](https://devblogs.microsoft.com/typescript/typescript-native-port/)
- [TypeScript å®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [Go å®˜æ–¹ç½‘ç«™](https://go.dev/)
